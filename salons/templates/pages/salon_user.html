{% extends 'pages/base.html' %}

{% block content %}

<div class="container col-lg-9">
    <div class="d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-25 mg-xl-b-30">

      <div>
        <h4 class="mg-b-0 tx-spacing--1">{{salon.shop_name}} Dashboard </h4>
      </div>
      <div>
        <a class="btn btn-xs btn-primary" href="{% url 'salon_settings' %}">Settings & Records</a>
       </div>
    </div>
    <div class="row row-xs">
      <div class="col-sm-6 col-lg-6">
        <div class="card card-body">
          <div class="media">
            <div class="wd-40 wd-md-50 ht-40 ht-md-50 bg-indigo tx-white mg-r-10 mg-md-r-10 d-flex align-items-center justify-content-center rounded op-6">
              <i data-feather="bar-chart-2"></i>
            </div>
            <div class="media-body">
              <h6 class="tx-sans tx-uppercase tx-10 tx-spacing-1 tx-color-03 tx-semibold tx-nowrap mg-b-5 mg-md-b-8">Pending Appointments</h6>
              <h4 class="tx-20 tx-sm-18 tx-md-24 tx-normal tx-rubik mg-b-0">{{total_approvals}}</h4>
            </div>
          </div>
        </div>
      </div><!-- col -->
      <div class="col-sm-6 col-lg-6 mg-t-10 mg-sm-t-0">
        <div class="card card-body">
          <div class="media">
            <div class="wd-40 wd-md-50 ht-40 ht-md-50 bg-orange tx-white mg-r-10 mg-md-r-10 d-flex align-items-center justify-content-center rounded op-6">
              <i data-feather="bar-chart-2"></i>
            </div>
            <div class="media-body">
              <h6 class="tx-sans tx-uppercase tx-10 tx-spacing-1 tx-color-03 tx-semibold tx-nowrap mg-b-5 mg-md-b-8">Pending Product Orders</h6>
              <h4 class="tx-20 tx-sm-18 tx-md-24 tx-normal tx-rubik mg-b-0">{{total_p_orders}}</h4>
            </div>
          </div>
        </div>
      </div><!-- col -->


      <div class="col-lg-12 col-xl-12 mg-t-10">
        <div class="card">
          <div class="card-header pd-y-20 d-md-flex align-items-center justify-content-between bg-danger ">
            <h5 class="mg-b-0"><b> All New Pending Appointments</b> </h5>
         
          </div><!-- card-header -->
          <div class="card-body pos-relative pd-0">
            <div id="t1" class="table-responsive">
              <table class="table table-hover table-dashboard mg-b-0">
                <thead class="thead-dark">
                </thead>
                  <tr>
                    <th><b>Order No</b></th>
                    <th><b>Customer</b></th>
                    <th><b>Service</b></th>
                    <th><b>Type</b></th>
                    <th><b>Date</b></th>
                    <th><b>Price</b></th>
                    <th><b>Slot</b></th>
                    <th><b>Address</b></th>
                    <th><b>Contact</b></th>
                    <th><b>Assign Worker</b></th>
                    <th><b>Reject</b></th>
                     
                  </tr>
                </thead>
                <tbody>
                  {% for k in approvals %}
                 <tr>
                   <td class="tx-14">{{forloop.counter}}</td>
                   <td class="tx-14">{{k.cart.user}}</td>
                   <td class="tx-14">{{k.service}}</td>
                   <td class="tx-14">{{k.type}}</td>
                   <td class="tx-14">{{k.order_date}}</td>
                   <td class="tx-14">{{k.service.price}}</td>
                   <td class="tx-14">{{k.slot}}</td>
                   <td class="tx-14">{{k.cart.address}}</td>
                   <td class="tx-14">{{k.cart.phone}}</td>
                   <td class="tx-14"><a class="btn btn-success" href="{% url 'assign_worker' k.id %}">Worker</a></td>
                   <td class="tx-14"><a class="btn btn-success" href="{% url 'cancel' k.id %}">Reject</a></td>
                 </tr>
                 {% endfor %}
                  
                </tbody>
              </table>
            </div><!-- table-responsive -->
          </div><!-- card-body -->
        </div><!-- card -->
      </div>




     
      <div class="col-lg-12 col-xl-12 mg-t-10">
        <div class="card">
          <div class="card-header pd-y-20 d-md-flex align-items-center justify-content-between bg-success ">
            <h5 class="mg-b-0"><b> All Orders</b> </h5>
         
          </div><!-- card-header -->
          <div class="card-body pos-relative pd-0">
            <div id="t1" class="table-responsive">
              <table class="table table-hover table-dashboard mg-b-0">
                <thead class="thead-dark">
                </thead>
                  <tr>
                    <th><b>Order No</b></th>
                    <th><b>Customer</b></th>
                    <th><b>Service</b></th>
                    <th><b>Type</b></th>
                    <th><b>Date</b></th>
                    <th><b>Price</b></th>
                    <th><b>Slot</b></th>
                    <th><b>Address</b></th>
                    <th><b>Contact</b></th>
                    <th><b>Order Status</b></th>
                     
                  </tr>
                </thead>
                <tbody>
                  {% for a in appointments %}
                 <tr>
                   <td class="tx-14">{{forloop.counter}}</td>
                   <td class="tx-14">{{a.cart.user}}</td>
                   <td class="tx-14">{{a.service}}</td>
                   <td class="tx-14">{{a.type}}</td>
                   <td class="tx-14">{{a.order_date}}</td>
                   <td class="tx-14">{{a.service.price}}</td>
                   <td class="tx-14">{{a.slot}}</td>
                   <td class="tx-14">{{a.cart.address}}</td>
                   <td class="tx-14">{{a.cart.phone}}</td>
                   <td class="tx-14"><a class="btn btn-success" href="{% url 'complete_order_status' a.id %}">Complete</a></td>
                 </tr>
                 {% endfor %}
                  
                </tbody>
              </table>
            </div><!-- table-responsive -->
          </div><!-- card-body -->
        </div><!-- card -->
      </div>





      <div class="col-lg-12 col-xl-12 mg-t-10">
        <div class="card">
          <div class="card-header pd-y-20 d-md-flex align-items-center justify-content-between bg-success ">
            <h5 class="mg-b-0"><b> All Product Orders</b> </h5>
         
          </div><!-- card-header -->
          <div class="card-body pos-relative pd-0">
            <div id="t1" class="table-responsive">
              <table class="table table-hover table-dashboard mg-b-0">
                <thead class="thead-dark">
                </thead>
                  <tr>
                    <th><b>Order No</b></th>
                    <th><b>Customer</b></th>
                    <th><b>Product</b></th>
                    <th><b>Quantity</b></th>
                    <th><b>Price</b></th>
                    <th><b>Delivery</b></th>
                    <th><b>Date</b></th>
                    <th><b>Address</b></th>
                    <th><b>Contact</b></th>
                    <th><b>Order Status</b></th>
                     
                  </tr>
                </thead>
                <tbody>
                  {% for p in p_orders %}
                 <tr>
                   <td class="tx-14">{{forloop.counter}}</td>
                   <td class="tx-14">{{p.cart.user}}</td>
                   <td class="tx-14">{{p.product}}</td>
                   <td class="tx-14">{{p.quantity}}</td>
                   <td class="tx-14">{{p.total}}</td>
                   <td class="tx-14">{{p.type}}</td>
                   <td class="tx-14">{{p.date}}</td>
                   <td class="tx-14">{{p.cart.address}}</td>
                   <td class="tx-14">{{p.cart.phone}}</td>
                   <td class="tx-14"><a class="btn btn-success" href="{% url 'po_complete' p.id %}">Complete</a></td>
                 </tr>
                 {% endfor %}
                  
                </tbody>
              </table>
            </div><!-- table-responsive -->
          </div><!-- card-body -->
        </div><!-- card -->
      </div>



     

    </div><!-- row -->
  </div><!-- container -->


{% endblock %}